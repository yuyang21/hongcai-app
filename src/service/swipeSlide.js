/**
 * swipeSlide
 * http://ons.me/500.html
 * 西门
 * 3.4.4(160909)
 */

var swiper={_distance:50,browser:{ie10:window.navigator.msPointerEnabled,ie11:window.navigator.pointerEnabled},events:["touchstart","touchmove","touchend"],support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)})()},touchEvents:{touchStart:"touchstart",touchMove:"touchmove",touchEnd:"touchend"},init:function(b){var c=this;c.$el=$("#slideBanner");c.opts=$.extend({},{ul:c.$el.children("ul"),li:c.$el.children().children("li"),index:0,continuousScroll:false,autoSwipe:true,speed:4000,axisX:true,transitionType:"ease",lazyLoad:false,firstCallback:function(){},callback:function(){}},b);c._index=c.opts.index;c._liLength=c.opts.li.length;c.isScrolling;c.opts.firstCallback(c._index,c._liLength,c.$el);if(c._liLength<=1){if(c.opts.lazyLoad){fnLazyLoad(c,0)}return false}if(c.opts.continuousScroll){c.opts.ul.prepend(c.opts.li.last().clone()).append(c.opts.li.first().clone())}if(c.opts.lazyLoad){fnLazyLoad(c,c._index);if(c.opts.continuousScroll){fnLazyLoad(c,c._index+1);fnLazyLoad(c,c._index+2);if(c._index==0){fnLazyLoad(c,c._liLength)}else{if(c._index+1==c._liLength){fnLazyLoad(c,1)}}}else{if(c._index==0){fnLazyLoad(c,c._index+1)}else{if(c._index+1==c._liLength){fnLazyLoad(c,c._index-1)}else{fnLazyLoad(c,c._index+1);fnLazyLoad(c,c._index-1)}}}}function a(){var f=c.opts.ul.children();c._slideDistance=c.opts.axisX?c.opts.ul.width():c.opts.ul.height();swiper.fnTransition(c,c.opts.ul,0);swiper.fnTranslate(c,c.opts.ul,-c._slideDistance*c._index);swiper.fnTransition(c,f,0);var e=c.opts.continuousScroll?-1:0;f.each(function(g){swiper.fnTranslate(c,$(this),c._slideDistance*(g+e))})}a();if(this.browser.ie10||this.browser.ie11){var d="";if(c.opts.axisX){d="pan-y"}else{d="none"}c.$el.css({"-ms-touch-action":d,"touch-action":d});c.$el.on("click",function(){return c.allowSlideClick})}swiper.fnAutoSlide(c);c.$el.on(swiper.touchEvents.touchStart,function(f){swiper.fnTouches(f);swiper.fnTouchstart(f,c)});c.$el.on(swiper.touchEvents.touchMove,function(f){swiper.fnTouches(f);swiper.fnTouchmove(f,c)});c.$el.on(swiper.touchEvents.touchEnd,function(){swiper.fnTouchend(c)});c.opts.ul.on("webkitTransitionEnd MSTransitionEnd transitionend",function(){swiper.fnAutoSlide(c)});$(window).on("onorientationchange" in window?"orientationchange":"resize",function(){clearTimeout(c.timer);c.timer=setTimeout(a,150)})},fnTransition:function(b,c,a){c.css({"-webkit-transition":"all "+a+"s "+b.opts.transitionType,"transition":"all "+a+"s "+b.opts.transitionType})},fnTranslate:function(b,c,d){var a=b.opts.axisX?d+"px,0,0":"0,"+d+"px,0";c.css({"-webkit-transform":"translate3d("+a+")","transform":"translate3d("+a+")"})},fnLazyLoad:function(c,b){var d=c.opts.ul.children();var a=d.eq(b).find("[data-src]");if(a){a.each(function(e){var f=$(this);if(f.is("img")){f.attr("src",f.data("src"));f.removeAttr("data-src")}else{f.css({"background-image":"url("+f.data("src")+")"});f.removeAttr("data-src")}})}},fnTouches:function(a){if(swiper.support.touch&&!a.touches){a.touches=a.originalEvent.touches}},fnTouchstart:function(b,a){a.isScrolling=undefined;a._moveDistance=a._moveDistanceIE=0;a._startX=swiper.support.touch?b.touches[0].pageX:(b.pageX||b.clientX);a._startY=swiper.support.touch?b.touches[0].pageY:(b.pageY||b.clientY)},fnTouchmove:function(b,a){if(a.opts.autoSwipe){this.fnStopSlide(a)}a.allowSlideClick=false;a._curX=swiper.support.touch?b.touches[0].pageX:(b.pageX||b.clientX);a._curY=swiper.support.touch?b.touches[0].pageY:(b.pageY||b.clientY);a._moveX=a._curX-a._startX;a._moveY=a._curY-a._startY;if(typeof a.isScrolling=="undefined"){if(a.opts.axisX){a.isScrolling=!!(Math.abs(a._moveX)>=Math.abs(a._moveY))}else{a.isScrolling=!!(Math.abs(a._moveY)>=Math.abs(a._moveX))}}if(a.isScrolling){if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}swiper.fnTransition(a,a.opts.ul,0);a._moveDistance=a._moveDistanceIE=a.opts.axisX?a._moveX:a._moveY}if(!a.opts.continuousScroll){if(a._index==0&&a._moveDistance>0||(a._index+1)>=a._liLength&&a._moveDistance<0){a._moveDistance=0}}swiper.fnTranslate(a,a.opts.ul,-(a._slideDistance*a._index-a._moveDistance))},fnTouchend:function(a){if(a.opts.autoSwipe){swiper.fnAutoSlide(a)}if(this.browser.ie10||this.browser.ie11){if(Math.abs(a._moveDistanceIE)<5){a.allowSlideClick=true}setTimeout(function(){a.allowSlideClick=true},100)}if(Math.abs(a._moveDistance)<=a._distance){swiper.fnSlide(a,"",".3")}else{if(a._moveDistance>a._distance){swiper.fnSlide(a,"prev",".3")}else{if(Math.abs(a._moveDistance)>a._distance){swiper.fnSlide(a,"next",".3")}}}a._moveDistance=a._moveDistanceIE=0},fnAutoSlide:function(a){if(a.opts.autoSwipe){this.fnStopSlide(a);a.autoSlide=setInterval(function(){swiper.fnSlide(a,"next",".3")},a.opts.speed)}},fnStopSlide:function(a){clearInterval(a.autoSlide)},goTo:function(a){var b=this;swiper.fnSlide(b,a,".3")},fnSlide:function(c,b,a){if(typeof b==="number"){c._index=b;if(c.opts.lazyLoad){if(c.opts.continuousScroll){fnLazyLoad(c,c._index);
  fnLazyLoad(c,c._index+1);fnLazyLoad(c,c._index+2)}else{fnLazyLoad(c,c._index-1);fnLazyLoad(c,c._index);fnLazyLoad(c,c._index+1)}}}else{if(b=="next"){c._index++;if(c.opts.lazyLoad){if(c.opts.continuousScroll){fnLazyLoad(c,c._index+2);if(c._index+1==c._liLength){fnLazyLoad(c,1)}else{if(c._index==c._liLength){fnLazyLoad(c,0);fnLazyLoad(c,2)}}}else{fnLazyLoad(c,c._index+1)}}}else{if(b=="prev"){c._index--;if(c.opts.lazyLoad){if(c.opts.continuousScroll){fnLazyLoad(c,c._index);if(c._index==0){fnLazyLoad(c,c._liLength)}else{if(c._index<0){fnLazyLoad(c,c._liLength-1)}}}else{fnLazyLoad(c,c._index-1)}}}}}if(c.opts.continuousScroll){if(c._index>=c._liLength){swiper.fnScroll(c,a);c._index=0;setTimeout(function(){swiper.fnScroll(c,0);return},300)}else{if(c._index<0){swiper.fnScroll(c,a);c._index=c._liLength-1;setTimeout(function(){swiper.fnScroll(c,0);return},300)}else{swiper.fnScroll(c,a)}}}else{if(c._index>=c._liLength){c._index=0}else{if(c._index<0){c._index=c._liLength-1}}swiper.fnScroll(c,a)}if(arguments[1]!==""){c.opts.callback(c._index,c._liLength,c.$el)}},fnScroll:function(b,a){swiper.fnTransition(b,b.opts.ul,a);swiper.fnTranslate(b,b.opts.ul,-b._index*b._slideDistance)}};
export {swiper}